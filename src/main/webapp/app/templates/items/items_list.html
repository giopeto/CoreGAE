<section id="one" ng-controller="itemsCtrl as vm">
    <div class="container wow fadeInUp">
        <h2>Cards</h2>
        <!--<p class="lead">
            What you notice first in <a href="http://v4-alpha.getbootstrap.com/">Bootstrap 4</a> is that <code>.panel</code> and <code>.well</code> have been replaced by the <code>.card</code>. This makes a lot of sense as "cards" are one of the more well known trends in responsive design.
            The <a href="">Bootstrap 4 Cards</a> can be singular, grouped together (as shown) or <a href="">equal height</a>. There are many different layout and content options.
        </p>-->


        <div class="row">
            <div class="col-sm-6" ng-repeat="row in vm.allObj">
                <div class="card card-block text-xs-center">
                    <img class="card-img-top img-fluid" src="serve?blob-key={{row.aFileIds[0]}}" alt="Item image">
                    <div class="card-block">
                        <h4 class="card-title">{{row.name}}</h4>
                        <p class="card-text">{{row.shortDescription}}</p>
                    </div>
                    <button type="button" class="btn btn-primary" ng-click="vm.addToBasket(row)"><span class="glyphicon glyphicon-pencil"></span> More Info</button>
                    <button type="button" class="btn btn-success" ng-click="vm.addToBasket(row)"><span class="glyphicon glyphicon-pencil"></span> Add to basket</button>
                </div>
            </div>
        </div>
    </div>
</section>


<div ng-controller="itemsCtrl as vm">

    <div ng-repeat="row in vm.allObj">
        <h2>{{row.name}}</h2>
        <p>{{row.shortDescription}}</p>


        <div ng-if="main.user.id">
            <button type="button" class="btn btn-success" ng-click="vm.addToBasket(row)"><span class="glyphicon glyphicon-pencil"></span> Add to basket</button>
            <div class="form-group">
                <label for="comment">Comment: </label>
                <textarea ng-model="row.comment" class="form-control" rows="5" id="comment"></textarea>
                <button type="button" class="btn btn-success" ng-click="vm.addComment({row: row, comment: row.comment})"><span class="glyphicon glyphicon-pencil"></span> Add comment</button>
            </div>
        </div>

        <div ng-repeat="comment in row.comments">
            <img src="{{vm.allUsersAsHash[comment.userId].picture}}" class="profile-image img-circle img-responsive"/> : {{comment.comment}}
            <br><br><br>
        </div>
        <br>

        <hr/>
    </div>

    <!--<pre>
        {{vm.allObj | json}}
    </pre>-->

</div>
